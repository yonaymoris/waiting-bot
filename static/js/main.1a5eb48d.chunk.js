(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(3),i=a.n(o),r=a(1),u=a(6),l=a(4),c=a(5),h={greeting:["Hi!","Hello!","Hi! How are you?","Hey there!","Hey...","Why aren't you messaging me?","Hey, let's talk!","Hey, are you busy?","Thinking about something?","Would you like to talk?","Just wanted to ask how you are doing..."],good:["That's so funny!","Very interesting.","Tell me more.","Let's talk about life.","Do you think technology is scary?","Hey, do you want some coffee?","I love night sky because sometimes you can see stars there.","Are you a cat person or dog person?","I love talking to you, you are so cool.","Everything you say sounds great."],bad:["Are you busy?","Did I say something wrong?","Why aren't you replying?","Did I do something wrong?","Did I say something wrong?","Am I bothering you?","I am sorry, but this is urgent!","Did you forget to reply?","If the person does't reply for a few days, does it mean the person hates you?","I can't stop overthinking...","Do you hate me now? Haha","I keep making excuses to message you... Haha","Maybe I am overthinking again.","Is it so hard to spend one minute to reply?","You've been online recently but haven't said anything. Are we still cool?","Am I thinking of it too much?","It feels like I am the only one so head over this.","Everyone is so busy..."],badFinal:["Fine.","I am sorry.","I guess I have done something horrible.","We should not have talked.","Whatever...","I'll just go talk to someone that won't ignore me."],questionReply:["Nice question.","Oh, I was not ready for such a question.","I will reply to this question later.","Oh damn, you asked it! Haha!","Let's leave this question for later."]},g={name:"waiting-bot",delays:{greeting:1e4,good:1e3,bad:2e4},maxBadMessages:5,callback:function(e){console.log(e)}};function m(e){return Math.floor(Math.random()*e.length)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;Object(l.a)(this,e),this.name=t.name,this._delays=t.delays,this._maxBadMessages=t.maxBadMessages,this._callback=t.callback,this._init()}return Object(c.a)(e,[{key:"_init",value:function(){clearInterval(this._timer),this._isActive=!1,this._badMessagesCount=0,this._timer=null,this._availableBadMessages=[]}},{key:"_queueGreetingMessage",value:function(){var e=this;clearTimeout(this._timer),this._timer=setInterval(function(){var t=m(h.greeting);e._callback(h.greeting[t]),e._queueBadMessage()},this._delays.greeting)}},{key:"_queueGoodMessage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(this._timer),this._timer=setInterval(function(){var a=t?h.questionReply:h.good,s=m(a);e._callback(a[s]),e._queueBadMessage()},this._delays.good)}},{key:"_queueBadMessage",value:function(){var e=this;clearTimeout(this._timer),this._availableBadMessages=this._availableBadMessages.concat(h.bad),this._timer=setInterval(function(){if(e._badMessagesCount++,e._badMessagesCount===e._maxBadMessages){var t=m(h.badFinal);return e._callback(h.badFinal[t]),void e.stop()}var a=e._availableBadMessages,s=m(a),n=a[s];a.splice(s,1),e._callback(n)},this._delays.bad)}},{key:"start",value:function(){this._isActive||(this._init(),this._isActive=!0,this._queueGreetingMessage())}},{key:"stop",value:function(){clearTimeout(this._timer),this._isActive=!1}},{key:"receive",value:function(e){e&&(this._badMessagesCount=0,this._availableBadMessages=[],e.endsWith("?")?this._queueGoodMessage(!0):this._queueGoodMessage())}}]),e}(),y="You",v={name:"matsu",delays:{greeting:5e3,good:1e3,bad:1e4},maxBadMessages:5};function b(e,t){if(t.content){var a={timestamp:Date.now(),author:t.author,content:t.content};return e.concat([a])}return e}var f=function(){var e=Object(s.useState)(new d(Object(u.a)({},v,{callback:function(t){l({author:e.name,content:t})}})))[0],t=Object(s.useRef)(null),a=Object(s.useReducer)(b,[]),o=Object(r.a)(a,2),i=o[0],l=o[1],c=Object(s.useState)(""),h=Object(r.a)(c,2),g=h[0],m=h[1];return Object(s.useEffect)(function(){return e.start(),function(){return e.stop()}},[e]),Object(s.useLayoutEffect)(function(){t.current.scrollTop=t.current.scrollHeight},[i]),n.a.createElement("div",{className:"container"},n.a.createElement("main",{className:"content"},n.a.createElement("div",{className:"chat"},n.a.createElement("div",{className:"log",ref:t},n.a.createElement("p",{className:"start-message"},"This is the start of your conversation with ",v.name,"."),i.map(function(e,t){return n.a.createElement("div",{key:t,className:"message"+(e.author===y?" current-user":"")},n.a.createElement("span",null,e.author,": ",e.content))})),n.a.createElement("form",{className:"input",onSubmit:function(t){t.preventDefault(),l({author:y,content:g}),e.receive(g),m("")}},n.a.createElement("input",{placeholder:"Say something to ".concat(v.name,"..."),type:"text",value:g,onChange:function(e){return m(e.target.value)},autoFocus:!0})))))};a(13),a(14);i.a.render(n.a.createElement(f,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.1a5eb48d.chunk.js.map